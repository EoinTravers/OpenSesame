# Generated by OpenSesame 0.27.4~pre1 (Frisky Freud)
# Sat Oct  5 17:42:57 2013 (posix)
# <http://www.cogsci.nl/opensesame>

set foreground "white"
set subject_parity "even"
set font_size "18"
set description "Default description"
set title "New experiment"
set compensation "0"
set start "experiment"
set font_bold "no"
set coordinates "relative"
set height "768"
set mouse_backend "legacy"
set width "1024"
set sampler_backend "legacy"
set keyboard_backend "legacy"
set background "black"
set subject_nr "0"
set font_family "mono"
set canvas_backend "legacy"
set transparent_variables "no"
set synth_backend "legacy"
set font_italic "no"

define alt_logger alt_logger
	set description "A plug-in to record data in a more Python-compatible way."
	set auto_log "no"
	set _vars_string "foo, time_loop"

define load_save_sd check_for_old_data
	set _mode "Load"
	set description "Load/save data from/to phone's memory"
	set _skip "yes"

define sequence sequence
	run alt_logger "always"

define sequence _sequence
	run send_to_server "send_old_data_now == True"

define sketchpad welcome
	set duration "keypress"
	set start_response_interval "no"
	set description "Displays stimuli"
	draw textline 0 0 "OpenSesame 0.27 'Frisky Freud'" center=1 color=white font_family="serif" font_size=32 font_italic=no font_bold=no show_if="always" html="yes"

define inline_script _inline_script
	___run__
	print "Data list length:"
	print len(self.experiment.log_list)
	__end__
	set _prepare ""
	set description "Executes Python code"

define mobile_menu mobile_menu
	set _resp1 "Yes"
	set description "Simple plug-in for multiple choice on touchscreens."
	set _variable "send_old_data_now"
	set _resp2 "Ask me later"
	set _checkbox "no"
	set _question "It looks like there's some data already saved to your phone. Do you want to send this now?"

define sequence experiment
	run welcome_screen_form "always"
	run check_for_old_data "always"
	run mobile_menu "always"
	run _sequence "always"
	run _inline_script "always"
	run getting_started "always"
	run welcome "always"
	run loop "always"
	run load_save_sd "always"
	run inline_script "always"

define send_to_server send_to_server
	set _delete "no"
	set description "An example new-style plug-in"
	set _address "www.foo.com/save_data.php"

define load_save_sd load_save_sd
	set _mode "Save"
	set description "Load/save data from/to phone's memory"
	set _skip "no"

define inline_script inline_script
	___run__
	for i in range(len(exp.log_list)):
		print exp.log_list[i]['foo']
	__end__
	set _prepare ""
	set description "Executes Python code"

define form_text_display welcome_screen_form
	set rows "1;4;1"
	set description "A simple text display form"
	set form_text "This App is a demo, etc, etc."
	set cols "1;1;1"
	set form_title "<span size=24>Smartphone Psychology</span>"
	set ok_text "Get Started"
	widget 0 0 3 1 label text="[form_title]"
	widget 0 1 3 1 label center="yes" text="[form_text]"
	widget 1 2 1 1 button text="[ok_text]"


define notepad getting_started
	__note__
	Hi,
	
	Welcome to OpenSesame 0.27 "Frisky Freud"!
	
	If you are new to OpenSesame, you may wish to follow the tutorial,
	which can be found online.
	
	There are also many example experiments, which may help you to get
	started with creating your own. These can be found in the "examples"
	folder provided with OpenSesame or, again, online,
	
	For more information, please refer to OpenSesame documentation area:
	<http://osdoc.cogsci.nl/>
	
	And feel free to ask for help on the forum:
	<http://forum.cogsci.nl/>
	
	Have fun with OpenSesame!
	
	--
	
	Sebastiaan
	__end__
	set description "Some pointers to help you get started!"

define loop loop
	set repeat "1"
	set description "Repeatedly runs another item"
	set item "sequence"
	set column_order "foo"
	set cycles "4"
	set order "random"
	setcycle 0 foo "1"
	setcycle 1 foo "2"
	setcycle 2 foo "3"
	setcycle 3 foo "4"
	run sequence

